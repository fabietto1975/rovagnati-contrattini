<?php

namespace backend\app\rest\controllers;

use backend\common\rest\controllers\AbstractController;
use backend\app\service\ProfiloClienteService;

class ProfiloClienteController extends AbstractController {

    private $profiloClienteService;

    public function __construct($request) {
        parent::__construct($request);
        $this->profiloClienteService = new ProfiloClienteService();
    }

    public function getAction() {
        if (isset($this->request->url_elements [2])) {
            $id_cliente = $this->request->url_elements [2];
            $id_wave = null;
            if (isset($this->request->url_elements [3])) {
                $id_wave = $this->request->url_elements [3];
            }
            $res = $this->profiloClienteService->readProfilo($id_cliente, $id_wave);
            if (isset($res['error'])) {
                $this->data['code'] = AbstractController::HTTP_CODE_NOTFOUND;
                $this->getResultData($res, 'profilocliente', $res['message']);
            } else {
                $this->getResultData($res, 'profilocliente', null);
            }
            $this->getResultData($res, 'profilocliente', null);
        }
        return $this->data;
    }

    public function postAction() {
        
    }

    public function deleteAction() {
        
    }

    public function putAction() {
        
    }

}
